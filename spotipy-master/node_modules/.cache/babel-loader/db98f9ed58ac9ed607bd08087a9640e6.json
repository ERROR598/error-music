{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\salah\\\\OneDrive\\\\\\u0633\\u0637\\u062D \\u0627\\u0644\\u0645\\u0643\\u062A\\u0628\\\\spotipy-master\\\\spotipy-master\\\\src\\\\components\\\\Player.js\",\n    _s = $RefreshSig$();\n\nimport \"./Player.css\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { forwardsSvg, backwardsSvg, shuffleSvg } from \"../svg\";\nimport { setPlayerState, selectSongById } from \"../actions\";\nimport Progress from \"./ProgressBar\";\nimport SongTime from \"./SongTime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Player = _ref => {\n  _s();\n\n  let {\n    selectedSongId,\n    defaultSong,\n    playerState,\n    songs,\n    selectSongById,\n    volume\n  } = _ref;\n  const dispatch = useDispatch();\n  const [shuffled, setShuffled] = useState(false);\n  const audioRef = useRef();\n  let clicked = false;\n\n  const spaceDownFunc = event => {\n    if (event.keyCode === 32 && !clicked) {\n      clicked = true;\n      document.getElementsByClassName(\"main-control\")[0].click();\n    }\n  };\n\n  const spaceUpFunc = event => {\n    if (event.keyCode === 32 && clicked) {\n      clicked = false;\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", spaceDownFunc);\n    document.addEventListener(\"keyup\", spaceUpFunc);\n  }, []);\n\n  if (selectedSongId < 0 || selectedSongId > songs.length - 1) {\n    selectSongById(0);\n  }\n\n  useEffect(() => {\n    if (audioRef.current) {\n      audioRef.current.volume = volume / 500;\n    }\n  }, [volume]);\n\n  const onMusicPlay = e => {\n    e.preventDefault();\n\n    if (!playerState) {\n      audioRef.current.play();\n      dispatch({\n        type: \"PLAYER_STATE_SELECTED\",\n        payload: 1\n      });\n    } else {\n      audioRef.current.pause();\n      dispatch({\n        type: \"PLAYER_STATE_SELECTED\",\n        payload: 0\n      });\n    }\n  };\n\n  const onBackwardClick = () => {\n    if (selectedSongId > 0) {\n      selectSongById(selectedSongId - 1);\n    }\n  };\n\n  const onForwardClick = () => {\n    if (selectedSongId < songs.length - 1) {\n      selectSongById(selectedSongId + 1);\n    }\n  };\n\n  const onTimeSeek = e => {\n    let target = document.getElementsByClassName(\"music-timer-wrapper\")[0];\n    let rect = target.getBoundingClientRect();\n    let skipToPercent = (e.clientX - rect.left) / rect.right;\n    audioRef.current.currentTime = audioRef.current.duration * skipToPercent;\n    dispatch({\n      type: \"SET_CURRENT_LOCATION\",\n      payload: audioRef.current.currentTime\n    });\n  };\n\n  useEffect(() => {\n    dispatch({\n      type: \"PLAYER_STATE_SELECTED\",\n      payload: 1\n    });\n    audioRef.current.play(); // console.log(audioRef.current.duration);\n\n    document.getElementById(\"focus-link\").click();\n    window.history.pushState({}, \"\", \"/\");\n  }, [selectedSongId, dispatch]);\n  useEffect(() => {\n    dispatch({\n      type: \"PLAYER_STATE_SELECTED\",\n      payload: 0\n    });\n    audioRef.current.pause();\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"player\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"music-timer-wrapper\",\n      onClick: onTimeSeek,\n      children: /*#__PURE__*/_jsxDEV(SongTime, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control\",\n      id: shuffled ? `active` : null,\n      onClick: () => {\n        setShuffled(!shuffled); // console.log(\"shuffle: \" + !shuffled);\n      },\n      children: shuffleSvg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control\",\n      onClick: onBackwardClick,\n      children: backwardsSvg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-control control\",\n      onClick: onMusicPlay,\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: `fas fa-${playerState ? \"pause\" : \"play\"}-circle`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control\",\n      onClick: onForwardClick,\n      children: forwardsSvg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Progress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      id: \"main-track\",\n      controls: true,\n      src: songs[selectedSongId].url,\n      preload: \"true\",\n      onEnded: () => {\n        selectSongById(shuffled ? Math.round(Math.random() * songs.length) : selectedSongId + 1);\n      },\n      onLoadedMetadata: () => {\n        dispatch({\n          type: \"SET_DURATION\",\n          payload: audioRef.current.duration\n        });\n        setInterval(() => {\n          dispatch({\n            type: \"SET_CURRENT_LOCATION\",\n            payload: audioRef.current.currentTime\n          });\n        }, 1000);\n      },\n      ref: audioRef,\n      hidden: true,\n      children: [\"Your browser does not support the\", /*#__PURE__*/_jsxDEV(\"code\", {\n        children: \"audio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), \" element.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Player, \"gjMhCTMPrPqdHqX4TQihQH+0QMg=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Player;\n\nconst mapStateToProps = state => {\n  return {\n    selectedSongId: state.selectedSongId,\n    defaultSong: state.songs[0],\n    playerState: state.playerState,\n    songs: state.songs,\n    volume: state.volume\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setPlayerState,\n  selectSongById\n})(Player);\n\nvar _c;\n\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"sources":["C:/Users/salah/OneDrive/سطح المكتب/spotipy-master/spotipy-master/src/components/Player.js"],"names":["useEffect","useRef","useState","connect","useDispatch","forwardsSvg","backwardsSvg","shuffleSvg","setPlayerState","selectSongById","Progress","SongTime","Player","selectedSongId","defaultSong","playerState","songs","volume","dispatch","shuffled","setShuffled","audioRef","clicked","spaceDownFunc","event","keyCode","document","getElementsByClassName","click","spaceUpFunc","addEventListener","length","current","onMusicPlay","e","preventDefault","play","type","payload","pause","onBackwardClick","onForwardClick","onTimeSeek","target","rect","getBoundingClientRect","skipToPercent","clientX","left","right","currentTime","duration","getElementById","window","history","pushState","url","Math","round","random","setInterval","mapStateToProps","state"],"mappings":"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","sourcesContent":["import \"./Player.css\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { forwardsSvg, backwardsSvg, shuffleSvg } from \"../svg\";\nimport { setPlayerState, selectSongById } from \"../actions\";\nimport Progress from \"./ProgressBar\";\nimport SongTime from \"./SongTime\";\n\nconst Player = ({\n    selectedSongId,\n    defaultSong,\n    playerState,\n    songs,\n    selectSongById,\n    volume,\n}) => {\n    const dispatch = useDispatch();\n    const [shuffled, setShuffled] = useState(false);\n    const audioRef = useRef();\n    let clicked = false;\n\n    const spaceDownFunc = (event) => {\n        if (event.keyCode === 32 && !clicked) {\n            clicked = true;\n            document.getElementsByClassName(\"main-control\")[0].click();\n        }\n    };\n    const spaceUpFunc = (event) => {\n        if (event.keyCode === 32 && clicked) {\n            clicked = false;\n        }\n    };\n\n    useEffect(() => {\n        document.addEventListener(\"keydown\", spaceDownFunc);\n        document.addEventListener(\"keyup\", spaceUpFunc);\n    }, []);\n\n    if (selectedSongId < 0 || selectedSongId > songs.length - 1) {\n        selectSongById(0);\n    }\n\n    useEffect(() => {\n        if (audioRef.current) {\n            audioRef.current.volume = volume / 500;\n        }\n    }, [volume]);\n\n    const onMusicPlay = (e) => {\n        e.preventDefault();\n\n        if (!playerState) {\n            audioRef.current.play();\n            dispatch({ type: \"PLAYER_STATE_SELECTED\", payload: 1 });\n        } else {\n            audioRef.current.pause();\n            dispatch({ type: \"PLAYER_STATE_SELECTED\", payload: 0 });\n        }\n    };\n\n    const onBackwardClick = () => {\n        if (selectedSongId > 0) {\n            selectSongById(selectedSongId - 1);\n        }\n\t};\n\t\n    const onForwardClick = () => {\n        if (selectedSongId < songs.length - 1) {\n            selectSongById(selectedSongId + 1);\n        }\n\t};\n\n\tconst onTimeSeek = (e) => {\n\t\tlet target = document.getElementsByClassName(\"music-timer-wrapper\")[0];\n\n\t\tlet rect = target.getBoundingClientRect();\n\t\tlet skipToPercent = (e.clientX - rect.left) / rect.right;\n\t\taudioRef.current.currentTime = audioRef.current.duration * skipToPercent;\n\t\tdispatch({\n\t\t\ttype: \"SET_CURRENT_LOCATION\",\n\t\t\tpayload: audioRef.current.currentTime,\n\t\t});\n\t}\n\n    useEffect(() => {\n        dispatch({ type: \"PLAYER_STATE_SELECTED\", payload: 1 });\n        audioRef.current.play();\n        // console.log(audioRef.current.duration);\n        document.getElementById(\"focus-link\").click();\n        window.history.pushState({}, \"\", \"/\");\n    }, [selectedSongId, dispatch]);\n    useEffect(() => {\n        dispatch({ type: \"PLAYER_STATE_SELECTED\", payload: 0 });\n        audioRef.current.pause();\n    }, [dispatch]);\n\n    return (\n\t\t<div id=\"player\">\n\t\t\t<div className=\"music-timer-wrapper\" onClick={onTimeSeek}>\n\t\t\t\t<SongTime />\n\t\t\t</div>\n            \n            <div\n                className=\"control\"\n                id={shuffled ? `active` : null}\n                onClick={() => {\n                    setShuffled(!shuffled);\n                    // console.log(\"shuffle: \" + !shuffled);\n                }}\n            >\n                {shuffleSvg}\n            </div>\n            <div className=\"control\" onClick={onBackwardClick}>\n                {backwardsSvg}\n            </div>\n            <div className=\"main-control control\" onClick={onMusicPlay}>\n                <i\n                    className={`fas fa-${\n                        playerState ? \"pause\" : \"play\"\n                    }-circle`}\n                ></i>\n            </div>\n            <div className=\"control\" onClick={onForwardClick}>\n                {forwardsSvg}\n            </div>\n            <Progress />\n            \n\n            <audio\n                id=\"main-track\"\n                controls\n                src={songs[selectedSongId].url}\n                preload=\"true\"\n                onEnded={() => {\n                    selectSongById(\n                        shuffled\n                            ? Math.round(Math.random() * songs.length)\n                            : selectedSongId + 1\n                    );\n                }}\n                onLoadedMetadata={() => {\n                    dispatch({\n                        type: \"SET_DURATION\",\n                        payload: audioRef.current.duration,\n                    });\n\n                    setInterval(() => {\n                        dispatch({\n                            type: \"SET_CURRENT_LOCATION\",\n                            payload: audioRef.current.currentTime,\n                        });\n                    }, 1000);\n                }}\n                ref={audioRef}\n                hidden\n            >\n                Your browser does not support the\n                <code>audio</code> element.\n            </audio>\n        </div>\n    );\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        selectedSongId: state.selectedSongId,\n        defaultSong: state.songs[0],\n        playerState: state.playerState,\n        songs: state.songs,\n        volume: state.volume,\n    };\n};\n\nexport default connect(mapStateToProps, { setPlayerState, selectSongById })(\n    Player\n);\n"]},"metadata":{},"sourceType":"module"}